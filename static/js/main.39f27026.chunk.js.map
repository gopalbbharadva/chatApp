{"version":3,"sources":["fbconfig.js","Components/Chat.js","Components/Chatroom.js","Components/Signin.js","Components/Signout.js","Components/Users.js","images/pop.png","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","Chat","props","messageStatus","message","uid","auth","currentUser","time","createdAt","newDate","Date","finalTime","getHours","getMinutes","className","style","margin","padding","fontSize","msg","Chatroom","dummy","useRef","useState","setChat","setChatHandler","messageRef","collection","query","orderBy","limit","useCollectionData","idField","messages","formHandler","e","a","preventDefault","photoURL","add","FieldValue","serverTimestamp","current","scrollIntoView","behaviour","map","index","photoRef","ref","onSubmit","icon","faPaperclip","height","width","color","value","type","onChange","target","placeholder","faPaperPlane","Signin","onClick","provider","GoogleAuthProvider","signInWithPopup","Signout","useAuthState","user","display","src","alt","displayName","window","confirm","signOut","marginRight","faSignOutAlt","Users","usr","setUser","onSnapshot","snap","docs","item","data","displayname","usrname","marginLeft","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.39f27026.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyBlFW3zs_X7R_0WupC0zmC3O6DaOJTCHdY\",\n    authDomain: \"chatapp-c7ee6.firebaseapp.com\",\n    projectId: \"chatapp-c7ee6\",\n    storageBucket: \"chatapp-c7ee6.appspot.com\",\n    messagingSenderId: \"827528465083\",\n    appId: \"1:827528465083:web:977ae405e629a35ead379e\"\n  };\n  \n\n  firebase.initializeApp(firebaseConfig);\n  const firestoreRef=firebase.firestore();\n  \n  \n  export default firestoreRef;\n","import React from \"react\";\nimport firebase from \"firebase\";\n\nfunction Chat(props) {\n  const { uid} = props.message;\n\n  const auth = firebase.auth();\n  const messageStatus = uid === auth.currentUser.uid ? \"sent\" : \"received\";\n  const time=props.message.createdAt;\n  let newDate=new Date(time*1000)\n  let hours=newDate.getHours();\n  let minutes=newDate.getMinutes();\n  const finalTime=hours+':'+minutes;\n\n  return (\n    <div>\n      {/* {console.log(finalTime)} */}\n      {/* <img src={photo} alt=\"sorry\"/> */}\n      <div className={`message ${messageStatus}`}>\n        <div className=\"msg\">\n          <p style={{margin:\"0\",padding:\"0.5rem\",fontSize:\"0.9rem\"}}>{props.message.msg}</p>\n          <small className=\"msgTime\">\n            {finalTime}</small>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","import React, { useRef, useState } from \"react\";\nimport firebase from \"firebase\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport firestoreRef from \"../fbconfig\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPaperclip } from \"@fortawesome/free-solid-svg-icons\";\nimport Chat from \"./Chat\";\n\nfunction Chatroom() {\n  const dummy = useRef();\n  const auth = firebase.auth();\n\n  let [setChat, setChatHandler] = useState(\"\");\n  const messageRef = firebase.firestore().collection(\"chats\");\n  const query = messageRef.orderBy(\"createdAt\").limit(30);\n  const [messages] = useCollectionData(query,{idField:'id'});\n\n  const formHandler = async (e) => {\n    e.preventDefault();\n\n    const { uid,photoURL } = auth.currentUser;\n    await messageRef.add({\n      msg: setChat,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL\n    });\n    setChatHandler('');\n\n    dummy.current.scrollIntoView({ behaviour: \"smooth\" });\n  };\n  return (\n    <div>\n      <main>\n        {messages &&\n          messages.map((msg,index) => {\n            return <Chat key={index}  photoRef={auth.currentUser.photoURL} \n            message={msg} />;\n          })}\n        <div ref={dummy}></div>\n      </main>\n      <form onSubmit={formHandler}>\n          <button className=\"sendImage\">\n              <FontAwesomeIcon icon={faPaperclip}\n              style={{ height: \"1.5rem\", width: \"1.5rem\", color: \"#9CA3AF\" }} >\n              </FontAwesomeIcon>\n          </button>\n        <input\n        className=\"inputChat\"\n          value={setChat}\n          type=\"text\"\n          onChange={(e)=> setChatHandler(e.target.value)}\n          placeholder=\"Type something...\"\n        />\n        <button className=\"submitBtn\" type=\"submit\">\n          <FontAwesomeIcon\n            style={{ height: \"1.5rem\", width: \"1.5rem\", color: \"#10B981\" }}\n            icon={faPaperPlane}\n          ></FontAwesomeIcon>\n        </button>\n        {/* <button type=\"submit\" disabled={!flag}>\n        </button> */}\n      </form>\n    </div>\n  );\n}\n\nexport default Chatroom;\n","import React from 'react'\nimport firebase from 'firebase';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport Signup from './Signup';\n\n\nfunction Signin(){\n\n    const auth=firebase.auth();\n    const googleSignIn=()=>{\n        const provider=new firebase.auth.GoogleAuthProvider();\n        auth.signInWithPopup(provider);\n    }\n\n    return (\n        <div>\n            <button onClick={googleSignIn}>  Google signin</button>\n        </div>\n    )\n}\n\nexport default Signin;","import React from \"react\";\nimport firebase from \"firebase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nfunction Signout(props) {\n  const auth = firebase.auth();\n  const [user] = useAuthState(auth);\n\n  const signOut = () => {\n    const _islogOut = window.confirm(\n      `Are you sure you want to logout ${user.displayName}`\n    );\n    if (_islogOut) auth.signOut();\n  };\n  return (\n    <div style={{ display: \"flex\" }}>\n      <img\n        className=\"profileImage\"\n        src={user.photoURL}\n        alt=\"sorry not available\"\n      />\n      <p style={{ color: \"black\" }}>{user.displayName}</p>\n      {auth.currentUser && (\n        <button className=\"logoutBtn\" onClick={signOut}>\n          <FontAwesomeIcon\n            style={{ height: \"1.5rem\", width: \"1.5rem\", marginRight: \"1rem\" }}\n            icon={faSignOutAlt}\n          ></FontAwesomeIcon>\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default Signout;\n","import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport pop from \"../images/pop.png\";\nimport firebase from \"firebase\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\n\nconst Users = () => {\n  let [usr, setUser] = useState([]);\n\n  const auth = firebase.auth();\n  const [user] = useAuthState(auth);\n  const firebaseDb = firebase.firestore();\n  // let data = [];\n\n  firebaseDb\n      .collection(\"users\")\n      .onSnapshot(snap =>{\n        setUser(snap.docs.map(item =>{\n          return item.data().displayname;\n        }))\n      })\n\n  return (\n    <div>\n        {usr.map((usrname,index) => {\n          return (\n            <div key={index} className=\"user\"> \n              <img className=\"profileImage\" src={user.photoURL} alt=\"sorry\" />\n              <p style={{ marginLeft: \"1rem\", color: \"black\" }}>{usrname}</p>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Users;\n","export default __webpack_public_path__ + \"static/media/pop.7b974efd.png\";","import \"./App.css\";\nimport \"./fbconfig\";\nimport React, { useREf, useEffect, useState } from \"react\";\nimport \"firebase/app\";\nimport firebase from \"firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport Chatroom from \"./Components/Chatroom\";\nimport Signin from \"./Components/Signin\";\nimport Signout from \"./Components/Signout\";\nimport Users from \"./Components/Users\";\nimport Signup from \"./Components/Signup\";\n\n\nfunction App() {\n  const auth = firebase.auth();\n  const [user] = useAuthState(auth);\n\n  return (\n    <div className=\"container\">\n      {user?\n        <div className=\"App\">\n          <div className=\"allUsers\">\n            <Users />\n          </div>\n          <div className=\"userChat\">\n            <header>\n              <Signout currentUser={user}/>\n            </header>\n            <section>{user ? <Chatroom /> : <Signin />}</section>\n          </div>\n        </div>:<Signin />\n      }\n    </div>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}