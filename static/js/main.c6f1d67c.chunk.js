(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var s=c(4),r=c.n(s),a=c(21),n=c.n(a),i=(c(28),c(14)),o=(c(29),c(10));o.a.initializeApp({apiKey:"AIzaSyBlFW3zs_X7R_0WupC0zmC3O6DaOJTCHdY",authDomain:"chatapp-c7ee6.firebaseapp.com",projectId:"chatapp-c7ee6",storageBucket:"chatapp-c7ee6.appspot.com",messagingSenderId:"827528465083",appId:"1:827528465083:web:977ae405e629a35ead379e"});o.a.firestore(),c(33);var j=c(22),l=c(19),u=c(20),d=c.n(u),b=c(23),h=c(15),m=c(13),p=c(3);var O=function(e){var t=e.message,c=t.uid,s=(t.photo,c===o.a.auth().currentUser.uid?"sent":"received");return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"message ".concat(s),children:[Object(p.jsx)("img",{className:"profileImage",src:e.photoRef}),Object(p.jsx)("p",{children:e.message.msg})]})})};var x=function(){var e=Object(s.useRef)(),t=o.a.auth(),c=Object(s.useState)(""),r=Object(i.a)(c,2),a=r[0],n=r[1],j=Object(s.useState)(!1),u=Object(i.a)(j,2),x=u[0],g=u[1],f=o.a.firestore().collection("chats"),v=f.orderBy("createdAt").limit(20),y=Object(l.a)(v),N=Object(i.a)(y,1)[0],I=function(){var c=Object(b.a)(d.a.mark((function c(s){var r,i,j;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),r=t.currentUser,i=r.uid,j=r.photoURL,c.next=4,f.add({msg:a,createdAt:o.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:j});case 4:n(""),g(!1),e.current.scrollIntoView({behaviour:"smooth"});case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsxs)("main",{children:[N&&N.map((function(e,c){return Object(p.jsx)(O,{photoRef:t.currentUser.photoURL,message:e},c)})),Object(p.jsx)("div",{ref:e})]}),Object(p.jsxs)("form",{onSubmit:I,children:[Object(p.jsx)("button",{className:"sendImage",children:Object(p.jsx)(h.a,{icon:m.b,style:{height:"1.5rem",width:"1.5rem",color:"#9CA3AF"}})}),Object(p.jsx)("input",{value:a,type:"text",onChange:function(e){e.target.value?(a=e.target.value,n(a),g(x=!0)):g(x=!1)},placeholder:"Type something..."}),Object(p.jsx)("button",{className:"submitBtn",type:"submit",disabled:!x,children:Object(p.jsx)(h.a,{display:!x,style:{height:"1.5rem",width:"1.5rem",color:"#10B981"},icon:m.a})})]})]})};var g=function(){var e=o.a.auth();return Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){var t=new o.a.auth.GoogleAuthProvider;e.signInWithPopup(t)},children:"  Google signin"})})};var f=function(){var e=o.a.auth();return e.currentUser&&Object(p.jsx)("button",{className:"logoutBtn",onClick:function(){return e.signOut()},children:Object(p.jsx)(h.a,{style:{height:"1.5rem",width:"1.5rem",marginRight:"1rem"},icon:m.c})})},v=c.p+"static/media/pop.7b974efd.png",y=function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("img",{className:"profileImage",src:v,alt:"sorry"}),Object(p.jsx)("p",{style:{marginLeft:"1rem",color:"black"},children:"User 1"})]}),Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("img",{className:"profileImage",src:v,alt:"sorry"}),Object(p.jsx)("p",{style:{marginLeft:"1rem",color:"black"},children:"User 2"})]}),Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("img",{className:"profileImage",src:v,alt:"sorry"}),Object(p.jsx)("p",{style:{marginLeft:"1rem",color:"black"},children:"User 3"})]}),Object(p.jsxs)("div",{className:"user",children:[Object(p.jsx)("img",{className:"profileImage",src:v,alt:"sorry"}),Object(p.jsx)("p",{style:{marginLeft:"1rem",color:"black"},children:"User 4"})]})]})};var N=function(){var e=o.a.auth(),t=Object(j.a)(e),c=Object(i.a)(t,1)[0];return Object(p.jsx)("div",{className:"container",children:c?Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"allUsers",children:Object(p.jsx)(y,{})}),Object(p.jsxs)("div",{className:"userChat",children:[Object(p.jsx)("header",{children:Object(p.jsx)(f,{})}),Object(p.jsx)("section",{children:c?Object(p.jsx)(x,{}):Object(p.jsx)(g,{})})]})]}):Object(p.jsx)(g,{})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,n=t.getTTFB;c(e),s(e),r(e),a(e),n(e)}))};n.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),I()}},[[40,1,2]]]);
//# sourceMappingURL=main.c6f1d67c.chunk.js.map